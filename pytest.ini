[pytest]
# pytest 설정 파일
# 이 파일은 pytest 실행 시 자동으로 로드되어 기본 동작을 설정합니다.

# 테스트 파일 검색 경로
testpaths = tests

# 테스트 파일 패턴 (test_*.py 또는 *_test.py)
python_files = test_*.py

# 테스트 클래스 패턴 (Test로 시작)
python_classes = Test*

# 테스트 함수 패턴 (test_로 시작)
python_functions = test_*

# 최소 Python 버전 요구사항
minversion = 7.0

# 경고 표시 옵션
# error: 경고를 에러로 처리 (엄격 모드)
# ignore: 특정 경고 무시
# default: 기본 경고 표시
filterwarnings =
    # pandas FutureWarning 무시 (외부 라이브러리 경고)
    ignore::FutureWarning:pandas
    # DeprecationWarning 표시 (경고는 확인)
    default::DeprecationWarning

# 출력 옵션
# -v: verbose (상세 출력)
# -ra: 모든 테스트 결과 요약 표시
# --tb=short: traceback을 짧게 표시
# --strict-markers: 등록되지 않은 마커 사용 시 에러
addopts =
    -ra
    --strict-markers
    --tb=short

# 커버리지 측정 시 제외할 파일 패턴
# (pytest --cov 사용 시)
# 테스트 파일 자체는 커버리지에서 제외
[coverage:run]
omit =
    tests/*
    */site-packages/*

# 커버리지 리포트 옵션
[coverage:report]
# 커버리지가 낮은 파일 표시
show_missing = True
# 최소 커버리지 (이 이하면 경고)
# fail_under = 80

# 로그 설정
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# 커스텀 마커 정의 (필요 시)
markers =
    slow: 실행 시간이 오래 걸리는 테스트 (pytest -m "not slow"로 제외 가능)
    integration: 통합 테스트 (여러 모듈 결합 테스트)
    unit: 단위 테스트 (단일 함수/클래스 테스트)
