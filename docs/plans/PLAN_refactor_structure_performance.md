# Implementation Plan: êµ¬ì¡°/ì„±ëŠ¥ ë¦¬íŒ©í† ë§ (ê²½ë¡œ/ì˜ì¡´ì„±/ë¬¸ìí­/ë³‘ë ¬ìºì‹œ/íƒ€ì„ì¡´)

> ì‘ì„±/ìš´ì˜ ê·œì¹™(SoT): ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
> (ì´ í…œí”Œë¦¿ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆ ì–‘ì‹ì˜ ê³„íšì„œë¥¼ ë§Œë“¤ ë•Œë„ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ í¬ì¸í„°ë¡œ ë‘ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.)

**ìƒíƒœ**: âœ… Done
**ì‘ì„±ì¼**: 2025-12-26 11:30
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-26 19:30
**ê´€ë ¨ ë²”ìœ„**: utils, tqqq, backtest, common_constants, meta
**ê´€ë ¨ ë¬¸ì„œ**: src/qbt/utils/CLAUDE.md, src/qbt/tqqq/CLAUDE.md, CLAUDE.md (ë£¨íŠ¸)

---

## 0) ê³ ì • ê·œì¹™ (ì´ planì€ ë°˜ë“œì‹œ ì•„ë˜ ê·œì¹™ì„ ë”°ë¥¸ë‹¤)

> ğŸš« **ì‚­ì œ ê¸ˆì§€ + ìˆ˜ì • ê¸ˆì§€**
> ì´ ì„¹ì…˜(0)ì€ ì§€ì›Œì§€ë©´ ì•ˆ ë  ë¿ë§Œ ì•„ë‹ˆë¼ **ë¬¸êµ¬ê°€ ìˆ˜ì •ë˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.**
> ê·œì¹™ì˜ ìƒì„¸ ì •ì˜/ì˜ˆì™¸ëŠ” ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

- Validationì—ì„œ `poetry run ruff check .` ë˜ëŠ” `./run_tests.sh`ê°€ ì‹¤íŒ¨í•˜ë©´ **í•´ë‹¹ Phaseì—ì„œ ì¦‰ì‹œ ìˆ˜ì • í›„ ì¬ê²€ì¦**í•œë‹¤.
- Phase 0ì€ "ë ˆë“œ(ì˜ë„ì  ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸)" í—ˆìš©, Phase 1ë¶€í„°ëŠ” **ê·¸ë¦° ìœ ì§€**ë¥¼ ì›ì¹™ìœ¼ë¡œ í•œë‹¤.
- ì´ë¯¸ ìƒì„±ëœ planì€ **ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ì™¸ ìˆ˜ì • ê¸ˆì§€**(ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ ìƒˆ plan ì‘ì„±).
- ìŠ¹ì¸ ìš”ì²­ì„ í•˜ê¸° ì „ **ë°˜ë“œì‹œ plan ì²´í¬ë°•ìŠ¤ë¥¼ ìµœì‹ í™”**í•œë‹¤(ì²´í¬ ì—†ì´ ìŠ¹ì¸ ìš”ì²­ ê¸ˆì§€).
- ìŠ¤í‚µì€ ê°€ëŠ¥í•˜ë©´ **Phase ë¶„í•´ë¡œ ì œê±°**í•œë‹¤. ìŠ¤í‚µì´ ë‚¨ì•„ìˆìœ¼ë©´ **Done ì²˜ë¦¬/DoD ì²´í¬ ê¸ˆì§€**.

---

## 1) ëª©í‘œ(Goal)

- [ ] ê²½ë¡œ ìƒìˆ˜ë¥¼ common_constants ê¸°ë°˜ìœ¼ë¡œ ì¼ì›í™”í•˜ì—¬ ë³€ê²½/í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì¼ê´€ì„± í™•ë³´
- [ ] utilsê°€ ë„ë©”ì¸ ìƒìˆ˜ë¥¼ importí•˜ì§€ ì•Šë„ë¡ ì˜ì¡´ì„± ì •ë¦¬
- [ ] unicodedata ê¸°ë°˜ ì •í™•í•œ ë¬¸ìí­ ê³„ì‚°ìœ¼ë¡œ ì¶œë ¥ ì •ë ¬ ê°œì„ 
- [ ] ë³‘ë ¬ ê·¸ë¦¬ë“œì„œì¹˜ì—ì„œ DataFrameì„ ì‘ì—…ë‹¹ ì „ë‹¬í•˜ì§€ ì•Šê³  ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë‹¹ 1íšŒ ìºì‹œë¡œ ì„¸íŒ…í•˜ì—¬ pickle/IPC ì˜¤ë²„í—¤ë“œ ê°ì†Œ
- [ ] ë©”íƒ€ë°ì´í„° íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ KST ê³ ì •ìœ¼ë¡œ í†µì¼

## 2) ë¹„ëª©í‘œ(Non-Goals)

- TableLoggerì˜ ì¶œë ¥ ì •ë ¬ ê°œì„ ì€ ì œì™¸ (ë³„ë„ ì‘ì—…)
- ê¸°ì¡´ ë°±í…ŒìŠ¤íŠ¸/ì‹œë®¬ë ˆì´ì…˜ ë¡œì§ì˜ ë™ì‘ ë³€ê²½ ì—†ìŒ (ì„±ëŠ¥/êµ¬ì¡°ë§Œ ê°œì„ )
- ë³‘ë ¬ ì‹¤í–‰ ê²°ê³¼ì˜ ìˆ˜ì¹˜ ë³€ê²½ ì—†ìŒ (ìºì‹œ ì ìš©ë§Œ)

## 3) ë°°ê²½/ë§¥ë½(Context)

### í˜„ì¬ ë¬¸ì œì  / ë™ê¸°

1. **ê²½ë¡œ í•˜ë“œì½”ë”©**: `storage/...` ê²½ë¡œê°€ ì—¬ëŸ¬ ëª¨ë“ˆì— ë¶„ì‚°ë˜ì–´ ë³€ê²½/í…ŒìŠ¤íŠ¸ì— ì·¨ì•½
2. **ê³„ì¸µ ì˜ì¡´ì„± í˜¼ì¬**: utilsê°€ tqqq ë„ë©”ì¸ ìƒìˆ˜ë¥¼ importí•˜ì—¬ ê³„ì¸µ ë¶„ë¦¬ê°€ íë ¤ì§
3. **ë¬¸ì í­ ê³„ì‚° íœ´ë¦¬ìŠ¤í‹±**: í•œê¸€/ì´ëª¨ì§€ í­ ê³„ì‚°ì´ í™˜ê²½ì— ë”°ë¼ ë¶€ì •í™•í•  ìˆ˜ ìˆìŒ
4. **ë³‘ë ¬ ì „ë‹¬ ì˜¤ë²„í—¤ë“œ**: í° DataFrameì„ ì‘ì—…ë§ˆë‹¤ í”„ë¡œì„¸ìŠ¤ì— ì „ë‹¬í•˜ì—¬ pickle/IPC ë¹„ìš©ì´ í¼
5. **íƒ€ì„ì¡´ ë¶ˆì¼ì¹˜**: ë©”íƒ€ë°ì´í„° íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ì‹œìŠ¤í…œ ë¡œì»¬ TZì— ì˜ì¡´

### ì˜í–¥ë°›ëŠ” ê·œì¹™(ë°˜ë“œì‹œ ì½ê³  ì „ì²´ ìˆ™ì§€)

> ì•„ë˜ ë¬¸ì„œì— ê¸°ì¬ëœ ê·œì¹™ì„ **ëª¨ë‘ ìˆ™ì§€**í•˜ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.
> (ê·œì¹™ì„ ìš”ì•½/ë‚˜ì—´í•˜ì§€ ë§ê³  "ë¬¸ì„œ ëª©ë¡"ë§Œ ë‘¡ë‹ˆë‹¤.)

- [x] `CLAUDE.md` (ë£¨íŠ¸)
- [x] `src/qbt/utils/CLAUDE.md`
- [x] `src/qbt/tqqq/CLAUDE.md`
- [x] `tests/CLAUDE.md` (í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì • ì‹œ)

## 4) ì™„ë£Œ ì¡°ê±´(Definition of Done)

> Doneì€ "ì„œìˆ "ì´ ì•„ë‹ˆë¼ "ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ"ë¡œë§Œ íŒë‹¨í•©ë‹ˆë‹¤. (ì •ì˜/ì˜ˆì™¸ëŠ” docs/CLAUDE.md)

- [x] ê²½ë¡œ ìƒìˆ˜ê°€ common_constants ê¸°ë°˜ìœ¼ë¡œ ì¼ì›í™”ë¨
- [x] utilsê°€ ë„ë©”ì¸ ìƒìˆ˜ë¥¼ importí•˜ì§€ ì•Šê±°ë‚˜ ëª…ì‹œì ìœ¼ë¡œ ê²©ë¦¬ë¨
- [x] unicodedata.east_asian_width ê¸°ë°˜ ë¬¸ìí­ ê³„ì‚° ì ìš©
- [x] ë³‘ë ¬ ì‹¤í–‰ ì‹œ DataFrameì´ ì›Œì»¤ë‹¹ 1íšŒ ìºì‹œë¡œ ì„¸íŒ…ë¨ (í…ŒìŠ¤íŠ¸ í†µê³¼)
- [x] í”„ë¡œì„¸ìŠ¤ í’€ ì¬ì‚¬ìš© ì‹œ ìºì‹œ ì˜¤ì—¼ ë°©ì§€ (initializer clear í…ŒìŠ¤íŠ¸ í†µê³¼)
- [x] ë©”íƒ€ timestampê°€ KSTë¡œ ê¸°ë¡ë¨
- [x] íšŒê·€/ì‹ ê·œ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (ë³‘ë ¬ ìºì‹œ ê²€ì¦ í…ŒìŠ¤íŠ¸ 3ê°œ ì¶”ê°€)
- [x] `./run_tests.sh` í†µê³¼ (failed=0, skipped=0) - 111 passed
- [x] `poetry run ruff check .` í†µê³¼
- [x] `poetry run black .` ì‹¤í–‰ ì™„ë£Œ (ë§ˆì§€ë§‰ Phaseì—ì„œ ìë™ í¬ë§· ì ìš©)
- [x] plan ì²´í¬ë°•ìŠ¤ ìµœì‹ í™”(Phase/DoD/Validation ëª¨ë‘ ë°˜ì˜)

## 5) ë³€ê²½ ë²”ìœ„(Scope)

### ë³€ê²½ ëŒ€ìƒ íŒŒì¼(ì˜ˆìƒ)

**ê²½ë¡œ í†µí•©**:
- `src/qbt/common_constants.py`: FFR_DATA_PATH, TQQQ_DATA_PATH ë“± ì¶”ê°€
- `src/qbt/tqqq/constants.py`: ê²½ë¡œ ìƒìˆ˜ë¥¼ common_constants ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½

**ì˜ì¡´ì„± ì •ë¦¬**:
- `src/qbt/utils/data_loader.py`: ë„ë©”ì¸ ìƒìˆ˜ import ì œê±°, ì¸ìë¡œ ê²½ë¡œ/ì»¬ëŸ¼ ì „ë‹¬

**ë¬¸ìí­ ê³„ì‚°**:
- `src/qbt/utils/formatting.py`: get_display_widthë¥¼ unicodedata ê¸°ë°˜ìœ¼ë¡œ êµì²´

**ë³‘ë ¬ ìºì‹œ**:
- `src/qbt/utils/parallel_executor.py`: WORKER_CACHE ì¶”ê°€, initializer ì§€ì›
- `src/qbt/backtest/strategy.py`: run_grid_searchì—ì„œ ìºì‹œ ì‚¬ìš©
- `src/qbt/tqqq/simulation.py`: find_optimal_cost_modelì—ì„œ ìºì‹œ ì‚¬ìš©

**íƒ€ì„ì¡´ ê³ ì •**:
- `src/qbt/utils/meta_manager.py`: ZoneInfo("Asia/Seoul") ëª…ì‹œ

**í…ŒìŠ¤íŠ¸**:
- `tests/test_parallel_executor.py`: ë³‘ë ¬ ìºì‹œ ê²€ì¦ í…ŒìŠ¤íŠ¸ ì¶”ê°€

**ë¬¸ì„œ**:
- `src/qbt/utils/CLAUDE.md`: ë³‘ë ¬ ìºì‹œ êµ¬ì¡° ì„¤ëª… ì¶”ê°€

### ë°ì´í„°/ê²°ê³¼ ì˜í–¥

- ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ìŒ
- ë³‘ë ¬ ì‹¤í–‰ ê²°ê³¼ ìˆ˜ì¹˜ ë³€ê²½ ì—†ìŒ (ìºì‹œë§Œ ì ìš©)
- ë©”íƒ€ timestampê°€ KSTë¡œ í†µì¼ë¨ (ê¸°ì¡´ ë¡œì»¬ TZ â†’ KST)

## 6) ë‹¨ê³„ë³„ ê³„íš(Phases)

### Phase 0 â€” ë³‘ë ¬ ìºì‹œ ì¸í„°í˜ì´ìŠ¤ ë° ì¸ë°”ë¦¬ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ ì‘ì„±(ë ˆë“œ)

> ë³‘ë ¬ ìºì‹œ êµ¬ì¡°ëŠ” í•µì‹¬ ì„±ëŠ¥ ê°œì„ ì´ë¯€ë¡œ, ì¸í„°í˜ì´ìŠ¤ì™€ ë¶ˆë³€ì¡°ê±´ì„ ë¨¼ì € í…ŒìŠ¤íŠ¸ë¡œ ê³ ì •í•œë‹¤.

**ì‘ì—… ë‚´ìš©**:

- [x] `tests/test_parallel_executor.py` ìƒì„±
- [x] ìºì‹œ ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸ ì¶”ê°€ (initializerê°€ WORKER_CACHEë¥¼ ì„¸íŒ…í•˜ëŠ”ì§€ ê²€ì¦)
- [x] ìºì‹œ ì¬ì‚¬ìš© ë°©ì§€ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (clear ë™ì‘ ê²€ì¦)
- [x] ìºì‹œ ê¸°ë°˜ ì‘ì—… í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (ì›Œì»¤ í•¨ìˆ˜ê°€ ìºì‹œì—ì„œ dfë¥¼ ì¡°íšŒí•˜ëŠ”ì§€ ê²€ì¦)

**Validation**:

- [x] `poetry run ruff check .`
- [x] `./run_tests.sh` (passed=108, failed=0, skipped=3)

---

### Phase 1 â€” ê²½ë¡œ í†µí•© ë° ì˜ì¡´ì„± ì •ë¦¬(ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] `common_constants.py`ì— FFR_DATA_PATH, TQQQ_DATA_PATH, TQQQ_SYNTHETIC_PATH, TQQQ_VALIDATION_PATH, TQQQ_DAILY_COMPARISON_PATH ì¶”ê°€
- [x] `tqqq/constants.py`ì—ì„œ ê²½ë¡œ ìƒìˆ˜ë¥¼ common_constants ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ (__all__ë¡œ re-export)
- [x] `utils/data_loader.py`ì—ì„œ ë„ë©”ì¸ ìƒìˆ˜ import ì œê±°
  - `load_ffr_data(path)`, `load_comparison_data(path)` ì‹œê·¸ë‹ˆì²˜ ìœ ì§€
  - í•„ìš”í•œ ì»¬ëŸ¼ëª…/ê²€ì¦ ë¡œì§ì„ utils ë‚´ë¶€ì— ì •ì˜ (ë„ë©”ì¸ ë…ë¦½ì„± í™•ë³´)
- [x] ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸ëŠ” tqqq/constants.pyë¥¼ í†µí•´ ê²½ë¡œ ì ‘ê·¼ (ì¬exportë¡œ ë³€ê²½ ì—†ìŒ)

**Validation**:

- [x] `poetry run ruff check .`
- [x] `./run_tests.sh` (passed=108, failed=0, skipped=3)

---

### Phase 2 â€” ë¬¸ìí­ ê³„ì‚° ê°œì„  ë° íƒ€ì„ì¡´ ê³ ì •(ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] `formatting.py`ì˜ `get_display_width`ë¥¼ unicodedata.east_asian_width ê¸°ë°˜ìœ¼ë¡œ êµì²´
  - W/F â†’ 2, ë‚˜ë¨¸ì§€ â†’ 1
- [x] `meta_manager.py`ì˜ `_add_timestamp`ì—ì„œ `ZoneInfo("Asia/Seoul")` ëª…ì‹œ
  - `datetime.now(timezone.utc).astimezone(ZoneInfo("Asia/Seoul"))`

**Validation**:

- [x] `poetry run ruff check .`
- [x] `./run_tests.sh` (passed=108, failed=0, skipped=3)

---

### Phase 3 â€” ë³‘ë ¬ ìºì‹œ êµ¬ì¡° êµ¬í˜„(ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] `parallel_executor.py`ì— ëª¨ë“ˆ ì „ì—­ `WORKER_CACHE: dict[str, Any] = {}` ì¶”ê°€
- [x] `execute_parallel`ì— `initializer`, `initargs` íŒŒë¼ë¯¸í„° ì¶”ê°€
  - `initializer(cache_payload: dict[str, Any])` í˜•ì‹ ì§€ì›
  - ProcessPoolExecutorì— initializer ì „ë‹¬
- [x] `execute_parallel_with_kwargs`ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©
- [x] í…ŒìŠ¤íŠ¸ì—ì„œ ìºì‹œ ì‚¬ìš© ê²€ì¦ (initializer clear ë™ì‘ í¬í•¨)
- [x] `backtest/strategy.py`ì˜ `run_grid_search`ì—ì„œ ìºì‹œ ì‚¬ìš©
  - `_init_grid_search_worker` ì¶”ê°€
  - `_run_buffer_strategy_for_grid`ì—ì„œ WORKER_CACHE ì¡°íšŒ
  - param_combinationsì—ì„œ df ì œê±° (ìºì‹œë¡œ ëŒ€ì²´)
- [x] `tqqq/simulation.py`ì˜ `find_optimal_cost_model`ì—ì„œ ìºì‹œ ì‚¬ìš©
  - `_init_cost_model_worker` ì¶”ê°€
  - `_evaluate_cost_model_candidate`ì—ì„œ WORKER_CACHE ì¡°íšŒ
  - param_combinationsì—ì„œ DataFrame 3ê°œ ì œê±° (ìºì‹œë¡œ ëŒ€ì²´)

**Validation**:

- [x] `poetry run ruff check .`
- [x] `./run_tests.sh` (passed=111, failed=0, skipped=0)
- [x] ë³‘ë ¬ ìºì‹œ í…ŒìŠ¤íŠ¸ 3ê°œ ëª¨ë‘ í†µê³¼ (initializer, clear, read-only)

---

### Phase 4 â€” ê²€ì¦ ë° ë¬¸ì„œ ì •ë¦¬(ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ë™ì‘ í™•ì¸ (í…ŒìŠ¤íŠ¸ í†µê³¼ë¡œ ëŒ€ì²´)
- [x] `poetry run black .` ì‹¤í–‰(ìë™ í¬ë§· ì ìš©)
- [x] ìµœì¢… ê²€ì¦ ì™„ë£Œ

**Validation**:

- [x] `poetry run ruff check .`
- [x] `./run_tests.sh` (passed=111, failed=0, skipped=0)

#### Commit Messages (Final candidates) â€” 5ê°œ ì¤‘ 1ê°œ ì„ íƒ

1. ë¦¬íŒ©í† ë§ / ê²½ë¡œ í†µí•©, ì˜ì¡´ì„± ì •ë¦¬, ë³‘ë ¬ ìºì‹œ êµ¬ì¡° ë„ì…ìœ¼ë¡œ ì„±ëŠ¥/ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
2. ë¦¬íŒ©í† ë§ / ë³‘ë ¬ ì˜¤ë²„í—¤ë“œ ê°ì†Œ (ì›Œì»¤ë‹¹ ìºì‹œ) + ê²½ë¡œ ì¼ì›í™” + ë¬¸ìí­ ê°œì„ 
3. ë¦¬íŒ©í† ë§ / êµ¬ì¡° ê°œì„  (ê²½ë¡œ/ì˜ì¡´ì„±/ë³‘ë ¬) + íƒ€ì„ì¡´ KST ê³ ì •
4. ë¦¬íŒ©í† ë§ / ë³‘ë ¬ ì‹¤í–‰ ìµœì í™” ë° ê³„ì¸µ ì˜ì¡´ì„± ì •ë¦¬
5. ë¦¬íŒ©í† ë§ / ìœ ì§€ë³´ìˆ˜ì„±/ì„±ëŠ¥ ê°œì„  (ê²½ë¡œ ìƒìˆ˜, ë³‘ë ¬ ìºì‹œ, ë¬¸ìí­, KST)

## 7) ë¦¬ìŠ¤í¬(Risks)

- **ë³‘ë ¬ ìºì‹œ ë„ì… ì‹œ ìƒíƒœ ê³µìœ  ìœ„í—˜**: ì›Œì»¤ í•¨ìˆ˜ê°€ ìºì‹œ dfë¥¼ in-place ìˆ˜ì •í•˜ë©´ ì•ˆ ë¨ (í•„ìš” ì‹œ .copy() ì‚¬ìš©)
- **í”„ë¡œì„¸ìŠ¤ í’€ ì¬ì‚¬ìš© ì‹œ ìºì‹œ ì˜¤ì—¼**: initializerì—ì„œ clear() ëˆ„ë½ ì‹œ ì´ì „ ì‹¤í–‰ ìºì‹œê°€ ë‚¨ì„ ìˆ˜ ìˆìŒ
- **utils â†’ ë„ë©”ì¸ ì˜ì¡´ì„± ì œê±° ì‹œ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½**: í˜¸ì¶œ ì½”ë“œ ì—…ë°ì´íŠ¸ í•„ìš”
- **íƒ€ì„ì¡´ ë³€ê²½ìœ¼ë¡œ ê¸°ì¡´ ë©”íƒ€ timestamp í˜•ì‹ ì°¨ì´**: ê¸°ì¡´ ë¡œì»¬ TZ vs ìƒˆë¡œìš´ KST

**ì™„í™”ì±…**:
- ë³‘ë ¬ ìºì‹œëŠ” read-only ì‚¬ìš© ì›ì¹™ ëª…ì‹œ, í•„ìš” ì‹œ .copy()
- initializerì—ì„œ clear() í•„ìˆ˜ ìˆ˜í–‰ í™•ì¸
- í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ì€ Phaseë³„ë¡œ ê²€ì¦
- ë©”íƒ€ timestampëŠ” append ë°©ì‹ì´ë¯€ë¡œ ê¸°ì¡´ ì´ë ¥ì€ ìœ ì§€ë¨

## 8) ë©”ëª¨(Notes)

- ë³‘ë ¬ ìºì‹œëŠ” "ë™ì¼ dfë¥¼ read-onlyë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°"ì—ë§Œ ì ìš©
- backtestì™€ tqqq ë‘ ë„ë©”ì¸ ëª¨ë‘ ì´ ì¡°ê±´ì„ ë§Œì¡±
- unicodedata.east_asian_widthëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë¯€ë¡œ ì¶”ê°€ ì˜ì¡´ì„± ì—†ìŒ

### ì§„í–‰ ë¡œê·¸ (KST)

- 2025-12-26 11:30: ê³„íšì„œ ì´ˆì•ˆ ì‘ì„± ì™„ë£Œ
- 2025-12-26 11:40: Phase 0 ì™„ë£Œ (ë³‘ë ¬ ìºì‹œ í…ŒìŠ¤íŠ¸ ì‘ì„±, skipped=3)
- 2025-12-26 12:00: Phase 1 ì™„ë£Œ (ê²½ë¡œ í†µí•©, ì˜ì¡´ì„± ì •ë¦¬)
- 2025-12-26 12:20: Phase 2 ì™„ë£Œ (ë¬¸ìí­ ê°œì„ , íƒ€ì„ì¡´ KST ê³ ì •)
- 2025-12-26 17:50: Phase 3 ì™„ë£Œ (ë³‘ë ¬ ìºì‹œ êµ¬ì¡° êµ¬í˜„, í…ŒìŠ¤íŠ¸ í†µê³¼)
- 2025-12-26 18:00: Phase 4 ì™„ë£Œ (Black ì ìš©, ìµœì¢… ê²€ì¦) - ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ (111 passed, 0 skipped)
- 2025-12-26 19:30: ì‹¤ì œ ìºì‹œ ì ìš© ì™„ë£Œ (backtest, tqqq ë„ë©”ì¸) - í…ŒìŠ¤íŠ¸ í†µê³¼, Ruff í†µê³¼

### ì™„ë£Œ ìš”ì•½

**ì£¼ìš” ì„±ê³¼**:
- ê²½ë¡œ ìƒìˆ˜ ì¼ì›í™”ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ (common_constants ê¸°ë°˜)
- utils â†” ë„ë©”ì¸ ì˜ì¡´ì„± ì •ë¦¬ (ê³„ì¸µ ë¶„ë¦¬ ê°œì„ )
- unicodedata ê¸°ë°˜ ì •í™•í•œ ë¬¸ìí­ ê³„ì‚°
- ë³‘ë ¬ ìºì‹œ ì¸í”„ë¼ êµ¬ì¶• (WORKER_CACHE, initializer ì§€ì›)
- KST íƒ€ì„ì¡´ ê³ ì •ìœ¼ë¡œ ì¼ê´€ì„± í™•ë³´
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ (ë³‘ë ¬ ìºì‹œ ê²€ì¦ í…ŒìŠ¤íŠ¸ 3ê°œ ì¶”ê°€)

**ì‹¤ì œ ìºì‹œ ì ìš© ì™„ë£Œ**:
- âœ… backtest/strategy.pyì˜ run_grid_search
  - DataFrameì„ WORKER_CACHEë¡œ ì „ë‹¬, pickle/IPC ì˜¤ë²„í—¤ë“œ ì œê±°
  - `_init_grid_search_worker` ì´ˆê¸°í™” í•¨ìˆ˜ ì¶”ê°€
- âœ… tqqq/simulation.pyì˜ find_optimal_cost_model
  - 3ê°œ DataFrameì„ WORKER_CACHEë¡œ ì „ë‹¬
  - `_init_cost_model_worker` ì´ˆê¸°í™” í•¨ìˆ˜ ì¶”ê°€

---
