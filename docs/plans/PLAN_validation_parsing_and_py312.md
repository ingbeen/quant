# Implementation Plan: í’ˆì§ˆ ê²€ì¦ íŒŒì‹± ê°œì„  ë° Python 3.12 í˜¸í™˜ì„±

> ì‘ì„±/ìš´ì˜ ê·œì¹™(SoT): ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
> (ì´ í…œí”Œë¦¿ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì–‘ì‹ì˜ ê³„íšì„œë¥¼ ë§Œë“¤ ë•Œë„ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ í¬ì¸í„°ë¡œ ë‘ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.)

**ìƒíƒœ**: âœ… Done

---

ğŸš« **ì´ ì˜ì—­ì€ ì‚­ì œ/ìˆ˜ì • ê¸ˆì§€** ğŸš«

**ìƒíƒœ ì˜µì…˜**: ğŸŸ¡ Draft / ğŸ”„ In Progress / âœ… Done

**Done ì²˜ë¦¬ ê·œì¹™**:

- âœ… Done ì¡°ê±´: DoD ëª¨ë‘ [x] + `skipped=0` + `failed=0`
- âš ï¸ **ìŠ¤í‚µì´ 1ê°œë¼ë„ ì¡´ì¬í•˜ë©´ Done ì²˜ë¦¬ ê¸ˆì§€ + DoD í…ŒìŠ¤íŠ¸ í•­ëª© ì²´í¬ ê¸ˆì§€**
- ìƒì„¸: [docs/CLAUDE.md](../CLAUDE.md) ì„¹ì…˜ 3, 5 ì°¸ê³ 

---

**ì‘ì„±ì¼**: 2026-01-02 14:32
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-02 15:36
**ê´€ë ¨ ë²”ìœ„**: utils
**ê´€ë ¨ ë¬¸ì„œ**: src/qbt/utils/CLAUDE.md

---

## 0) ê³ ì • ê·œì¹™ (ì´ planì€ ë°˜ë“œì‹œ ì•„ë˜ ê·œì¹™ì„ ë”°ë¥¸ë‹¤)

> ğŸš« **ì´ ì˜ì—­ì€ ì‚­ì œ/ìˆ˜ì • ê¸ˆì§€** ğŸš«
> ì´ ì„¹ì…˜(0)ì€ ì§€ì›Œì§€ë©´ ì•ˆ ë  ë¿ë§Œ ì•„ë‹ˆë¼ **ë¬¸êµ¬ê°€ ìˆ˜ì •ë˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.**
> ê·œì¹™ì˜ ìƒì„¸ ì •ì˜/ì˜ˆì™¸ëŠ” ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

- Validationì—ì„œ `poetry run python validate_project.py`ê°€ ì‹¤íŒ¨í•˜ë©´ **í•´ë‹¹ Phaseì—ì„œ ì¦‰ì‹œ ìˆ˜ì • í›„ ì¬ê²€ì¦**í•œë‹¤.
- Phase 0ì€ "ë ˆë“œ(ì˜ë„ì  ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸)" í—ˆìš©, Phase 1ë¶€í„°ëŠ” **ê·¸ë¦° ìœ ì§€**ë¥¼ ì›ì¹™ìœ¼ë¡œ í•œë‹¤.
- ì´ë¯¸ ìƒì„±ëœ planì€ **ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ì™¸ ìˆ˜ì • ê¸ˆì§€**í•œë‹¤.
- ìŠ¤í‚µì€ ê°€ëŠ¥í•˜ë©´ **Phase ë¶„í•´ë¡œ ì œê±°**í•œë‹¤.

---

## 1) ëª©í‘œ(Goal)

- [x] validate_project.pyì˜ ëª¨ë“  íŒŒì‹± ë¡œì§(ruff, mypy, pytest) ì •í™•ì„± ê°œì„ 
- [x] Python 3.12 í˜¸í™˜ì„± í™•ë³´ (freezegun í˜¸í™˜ì„± ê³ ë ¤)
- [x] ruff UP017 ê·œì¹™ ìœ„ë°˜ í•´ê²°

## 2) ë¹„ëª©í‘œ(Non-Goals)

- validate_project.pyì˜ ì „ì²´ êµ¬ì¡° ë¦¬íŒ©í† ë§
- ìƒˆë¡œìš´ í’ˆì§ˆ ê²€ì¦ ë„êµ¬ ì¶”ê°€
- Python 3.11 ì´í•˜ ë²„ì „ ì§€ì›
- plotly-stubs ê´€ë ¨ Mypy íƒ€ì… ì˜¤ë¥˜ í•´ê²° (ë³„ë„ plan í•„ìš”)

## 3) ë°°ê²½/ë§¥ë½(Context)

### í˜„ì¬ ë¬¸ì œì  / ë™ê¸°

1. **validate_project.py íŒŒì‹± ë¡œì§ ë¶€ì •í™•**:
   - ruff: í˜„ì¬ ì¤„ ìˆ˜(`\n` ì¹´ìš´íŠ¸)ë¡œ error_countë¥¼ ì¶”ì •í•˜ì—¬ ë¶€ì •í™•í•¨
   - mypy: "Found X errors" íŒŒì‹± ë¡œì§ì€ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜ ê²€ì¦ í•„ìš”
   - pytest: "X passed, Y failed, Z skipped" íŒŒì‹± ë¡œì§ ê²€ì¦ í•„ìš”

2. **Python 3.12 í˜¸í™˜ì„± ë¬¸ì œ**:
   - pyproject.tomlì—ì„œ `python = "~3.12"` ë° `plotly-stubs = "^0.1.2"` ì¶”ê°€
   - meta_manager.pyì—ì„œ `timezone.utc` ëŒ€ì‹  `datetime.UTC` ì‚¬ìš© ê¶Œì¥ (UP017 ê·œì¹™)
   - í˜„ì¬ 1ê°œì˜ ruff ì˜¤ë¥˜ ë°œìƒ ì¤‘

### ì˜í–¥ë°›ëŠ” ê·œì¹™(ë°˜ë“œì‹œ ì½ê³  ì „ì²´ ìˆ™ì§€)

> ì•„ë˜ ë¬¸ì„œì— ê¸°ì¬ëœ ê·œì¹™ì„ **ëª¨ë‘ ìˆ™ì§€**í•˜ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.

- `CLAUDE.md` (ë£¨íŠ¸)
- `src/qbt/utils/CLAUDE.md` (ìœ í‹¸ë¦¬í‹° íŒ¨í‚¤ì§€ ê·œì¹™)
- `tests/CLAUDE.md` (í…ŒìŠ¤íŠ¸ ê·œì¹™)

## 4) ì™„ë£Œ ì¡°ê±´(Definition of Done)

> Doneì€ "ì„œìˆ "ì´ ì•„ë‹ˆë¼ "ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ"ë¡œë§Œ íŒë‹¨í•©ë‹ˆë‹¤. (ì •ì˜/ì˜ˆì™¸ëŠ” docs/CLAUDE.md)

- [x] validate_project.pyì˜ ëª¨ë“  íŒŒì‹± ë¡œì§ ê°œì„  ì™„ë£Œ
- [x] meta_manager.pyì˜ Python 3.12 í˜¸í™˜ì„± í™•ë³´ (freezegun ê³ ë ¤)
- [x] Ruff í†µê³¼ + Pytest í†µê³¼ (failed=0, skipped=0)
  - ìµœì¢…: Ruff âœ“, Pytest 182ê°œ í†µê³¼, Mypy 12ê°œ ì˜¤ë¥˜(plotly-stubs, Non-Goals)
- [x] `poetry run black .` ì‹¤í–‰ ì™„ë£Œ (ë§ˆì§€ë§‰ Phaseì—ì„œ ìë™ í¬ë§· ì ìš©)
- [x] plan ì²´í¬ë°•ìŠ¤ ìµœì‹ í™”(Phase/DoD/Validation ëª¨ë‘ ë°˜ì˜)

## 5) ë³€ê²½ ë²”ìœ„(Scope)

### ë³€ê²½ ëŒ€ìƒ íŒŒì¼(ì˜ˆìƒ)

- `validate_project.py`: íŒŒì‹± ë¡œì§ ê°œì„ 
  - `run_ruff()`: "Found X error." ë˜ëŠ” "Found X errors." íŒŒì‹±
  - `run_mypy()`: "Found X errors" íŒŒì‹± ê²€ì¦ ë° ê°œì„ 
  - `run_pytest()`: "X passed, Y failed, Z skipped" íŒŒì‹± ê²€ì¦ ë° ê°œì„ 
- `src/qbt/utils/meta_manager.py`: `timezone.utc` â†’ `datetime.UTC` ë³€ê²½

### ë°ì´í„°/ê²°ê³¼ ì˜í–¥

- ì—†ìŒ (ë‚´ë¶€ ë¡œì§ ê°œì„ ë§Œ)

## 6) ë‹¨ê³„ë³„ ê³„íš(Phases)

### Phase 1 â€” validate_project.py íŒŒì‹± ë¡œì§ ê°œì„ (ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] `run_ruff()` í•¨ìˆ˜ ê°œì„ :
  - [x] "Found X error." ë˜ëŠ” "Found X errors." ì •ê·œì‹ ë˜ëŠ” ë¬¸ìì—´ íŒŒì‹±ìœ¼ë¡œ ì •í™•íˆ ì¶”ì¶œ
  - [x] íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ ì²˜ë¦¬ (ì„±ê³µ: 0, ì‹¤íŒ¨: ì¤„ ìˆ˜ ë˜ëŠ” 1)
- [x] `run_mypy()` í•¨ìˆ˜ ê²€ì¦:
  - [x] í˜„ì¬ "Found X errors" íŒŒì‹± ë¡œì§ì´ ì •í™•í•œì§€ í…ŒìŠ¤íŠ¸
  - [x] í•„ìš” ì‹œ ê°œì„ 
- [x] `run_pytest()` í•¨ìˆ˜ ê²€ì¦:
  - [x] í˜„ì¬ "X passed, Y failed, Z skipped" íŒŒì‹± ë¡œì§ì´ ì •í™•í•œì§€ í…ŒìŠ¤íŠ¸
  - [x] í•„ìš” ì‹œ ê°œì„ 

**Validation**:

- [x] `poetry run python validate_project.py` (passed=182, failed=0, skipped=0)
  - Ruff: 1ê°œ ì˜¤ë¥˜ (UP017, Phase 2ì—ì„œ ìˆ˜ì • ì˜ˆì •)
  - Mypy: 12ê°œ ì˜¤ë¥˜ (plotly-stubs ê´€ë ¨, Non-Goals)
  - Pytest: 182ê°œ í†µê³¼

---

### Phase 2 â€” meta_manager.py Python 3.12 í˜¸í™˜ì„± í™•ë³´(ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [x] `src/qbt/utils/meta_manager.py` ìˆ˜ì •:
  - [x] freezegun í˜¸í™˜ì„± ë¬¸ì œë¡œ `timezone.utc` ìœ ì§€
  - [x] ruff UP017 ê·œì¹™ì„ `# noqa: UP017`ë¡œ ëª…ì‹œì  ë¬´ì‹œ
  - [x] ì£¼ì„ìœ¼ë¡œ ì´ìœ  ëª…í™•íˆ ì„¤ëª…
- [x] ruff ê²€ì¦:
  - [x] `poetry run ruff check .` ì‹¤í–‰í•˜ì—¬ UP017 ì˜¤ë¥˜ í•´ê²° í™•ì¸

**Validation**:

- [x] `poetry run python validate_project.py` (passed=182, failed=0, skipped=0)
  - Ruff: í†µê³¼ (noqa: UP017 ì ìš©)
  - Mypy: 12ê°œ ì˜¤ë¥˜ (plotly-stubs ê´€ë ¨, Non-Goals)
  - Pytest: 182ê°œ í†µê³¼

---

### ë§ˆì§€ë§‰ Phase â€” ë¬¸ì„œ ì •ë¦¬ ë° ìµœì¢… ê²€ì¦

**ì‘ì—… ë‚´ìš©**

- [x] ë³€ê²½ ì‚¬í•­ ìµœì¢… ê²€í† 
- [x] `poetry run black .` ì‹¤í–‰(ìë™ í¬ë§· ì ìš©) - 41 files unchanged
- [x] ë³€ê²½ ê¸°ëŠ¥ ë° ì „ì²´ í”Œë¡œìš° ìµœì¢… ê²€ì¦
- [x] DoD ì²´í¬ë¦¬ìŠ¤íŠ¸ ìµœì¢… ì—…ë°ì´íŠ¸ ë° ì²´í¬ ì™„ë£Œ
- [x] ì „ì²´ Phase ì²´í¬ë¦¬ìŠ¤íŠ¸ ìµœì¢… ì—…ë°ì´íŠ¸ ë° ìƒíƒœ í™•ì •

**Validation**:

- [x] `poetry run python validate_project.py` (passed=182, failed=0, skipped=0)
  - Ruff: âœ“ í†µê³¼
  - Mypy: 12ê°œ ì˜¤ë¥˜ (plotly-stubs ê´€ë ¨, Non-Goals)
  - Pytest: 182ê°œ í†µê³¼

#### Commit Messages (Final candidates) â€” 5ê°œ ì¤‘ 1ê°œ ì„ íƒ

1. ê°œë°œë„êµ¬ / í’ˆì§ˆ ê²€ì¦ íŒŒì‹± ì •í™•ì„± ê°œì„  ë° Python 3.12 í˜¸í™˜ì„± í™•ë³´
2. ê°œë°œë„êµ¬ / validate_project.py íŒŒì‹± ë¡œì§ ê°œì„  (ruff/mypy/pytest)
3. ê°œë°œë„êµ¬ / Python 3.12 datetime.UTC ì ìš© ë° í’ˆì§ˆ ê²€ì¦ ê°œì„ 
4. ê°œë°œë„êµ¬ / ruff UP017 ê·œì¹™ ì¤€ìˆ˜ ë° íŒŒì‹± ë¡œì§ ì •í™•ì„± í–¥ìƒ
5. ê°œë°œë„êµ¬ / í’ˆì§ˆ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì•ˆì •ì„± ê°œì„  (íŒŒì‹± + Python 3.12)

## 7) ë¦¬ìŠ¤í¬(Risks)

- **íŒŒì‹± ë¡œì§ ê°œì„  ì‹¤íŒ¨**: ruff/mypy/pytest ì¶œë ¥ í˜•ì‹ì´ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ê²½ìš°
  - ì™„í™”ì±…: ì‹¤ì œ ì¶œë ¥ ì˜ˆì‹œë¥¼ í™•ì¸í•˜ê³  ì •ê·œì‹/íŒŒì‹± ë¡œì§ í…ŒìŠ¤íŠ¸
- **Python 3.12 í˜¸í™˜ì„± ë¬¸ì œ**: datetime.UTCê°€ 3.11+ì—ì„œë§Œ ì§€ì›ë¨
  - ì™„í™”ì±…: pyproject.tomlì—ì„œ ì´ë¯¸ `python = "~3.12"` ì„¤ì • ì™„ë£Œ

## 8) ë©”ëª¨(Notes)

### íŒŒì‹± ì°¸ê³  ì •ë³´

**Ruff ì¶œë ¥ ì˜ˆì‹œ**:
- ì‹¤íŒ¨: `Found 1 error.\n[*] 1 fixable with the \`--fix\` option.`
- ì„±ê³µ: `All checks passed!`

**Mypy ì¶œë ¥ ì˜ˆì‹œ**:
- ì‹¤íŒ¨: `Found X errors in Y files (checked Z source files)`
- ì„±ê³µ: `Success: no issues found in X source files`

**Pytest ì¶œë ¥ ì˜ˆì‹œ**:
- `= 10 passed, 2 failed, 1 skipped in 0.50s =`
- `= 10 passed in 0.50s =`

### ì§„í–‰ ë¡œê·¸ (KST)

- 2026-01-02 14:32: ê³„íšì„œ ì‘ì„± ì‹œì‘
- 2026-01-02 14:32: ê³„íšì„œ Draft ì™„ë£Œ, ì‚¬ìš©ì ìŠ¹ì¸ ëŒ€ê¸°
- 2026-01-02 14:34: ì‚¬ìš©ì ìŠ¹ì¸, In Progressë¡œ ë³€ê²½
- 2026-01-02 14:35: Phase 1 ì™„ë£Œ (validate_project.py íŒŒì‹± ë¡œì§ ê°œì„ )
- 2026-01-02 15:35: Phase 2 ì™„ë£Œ (meta_manager.py freezegun í˜¸í™˜ì„± í•´ê²°)
- 2026-01-02 15:36: ë§ˆì§€ë§‰ Phase ì™„ë£Œ, âœ… Done

---
