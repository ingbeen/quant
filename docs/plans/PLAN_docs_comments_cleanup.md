# Implementation Plan: ë¬¸ì„œ/ì£¼ì„/ì„¤ì • ì •ë¹„

> ì‘ì„±/ìš´ì˜ ê·œì¹™(SoT): ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
> (ì´ í…œí”Œë¦¿ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì–‘ì‹ì˜ ê³„íšì„œë¥¼ ë§Œë“¤ ë•Œë„ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ í¬ì¸í„°ë¡œ ë‘ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.)

**ìƒíƒœ**: ğŸŸ¡ Draft

---

ğŸš« **ì´ ì˜ì—­ì€ ì‚­ì œ/ìˆ˜ì • ê¸ˆì§€** ğŸš«

**ìƒíƒœ ì˜µì…˜**: ğŸŸ¡ Draft / ğŸ”„ In Progress / âœ… Done

**Done ì²˜ë¦¬ ê·œì¹™**:

- âœ… Done ì¡°ê±´: DoD ëª¨ë‘ [x] + `skipped=0` + `failed=0`
- âš ï¸ **ìŠ¤í‚µì´ 1ê°œë¼ë„ ì¡´ì¬í•˜ë©´ Done ì²˜ë¦¬ ê¸ˆì§€ + DoD í…ŒìŠ¤íŠ¸ í•­ëª© ì²´í¬ ê¸ˆì§€**
- ìƒì„¸: [docs/CLAUDE.md](../CLAUDE.md) ì„¹ì…˜ 3, 5 ì°¸ê³ 

---

**ì‘ì„±ì¼**: 2026-02-20 20:00
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-20 20:00
**ê´€ë ¨ ë²”ìœ„**: docs, tests, scripts, src/qbt (ì£¼ì„ë§Œ), ì„¤ì • íŒŒì¼
**ê´€ë ¨ ë¬¸ì„œ**: `CLAUDE.md`(ë£¨íŠ¸), `src/qbt/backtest/CLAUDE.md`, `src/qbt/tqqq/CLAUDE.md`, `tests/CLAUDE.md`, `scripts/CLAUDE.md`

---

## 0) ê³ ì • ê·œì¹™ (ì´ planì€ ë°˜ë“œì‹œ ì•„ë˜ ê·œì¹™ì„ ë”°ë¥¸ë‹¤)

> ğŸš« **ì´ ì˜ì—­ì€ ì‚­ì œ/ìˆ˜ì • ê¸ˆì§€** ğŸš«
> ì´ ì„¹ì…˜(0)ì€ ì§€ì›Œì§€ë©´ ì•ˆ ë  ë¿ë§Œ ì•„ë‹ˆë¼ **ë¬¸êµ¬ê°€ ìˆ˜ì •ë˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.**
> ê·œì¹™ì˜ ìƒì„¸ ì •ì˜/ì˜ˆì™¸ëŠ” ë°˜ë“œì‹œ [docs/CLAUDE.md](../CLAUDE.md)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

- `poetry run python validate_project.py`ëŠ” **ë§ˆì§€ë§‰ Phaseì—ì„œë§Œ ì‹¤í–‰**í•œë‹¤. ì‹¤íŒ¨í•˜ë©´ ì¦‰ì‹œ ìˆ˜ì • í›„ ì¬ê²€ì¦í•œë‹¤.
- Phase 0ì€ "ë ˆë“œ(ì˜ë„ì  ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸)" í—ˆìš©, Phase 1ë¶€í„°ëŠ” **ê·¸ë¦° ìœ ì§€**ë¥¼ ì›ì¹™ìœ¼ë¡œ í•œë‹¤.
- ì´ë¯¸ ìƒì„±ëœ planì€ **ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ì™¸ ìˆ˜ì • ê¸ˆì§€**í•œë‹¤.
- ìŠ¤í‚µì€ ê°€ëŠ¥í•˜ë©´ **Phase ë¶„í•´ë¡œ ì œê±°**í•œë‹¤.

---

## 1) ëª©í‘œ(Goal)

- [ ] ëª©í‘œ 1: CLAUDE.md ë¬¸ì„œì™€ ì‹¤ì œ ì½”ë“œ ê°„ ë¶ˆì¼ì¹˜ í•´ì†Œ (ë³´ê³ ì„œ B-1~B-5)
- [ ] ëª©í‘œ 2: ê¸ˆì§€ëœ ê°œë°œ ë‹¨ê³„ í‘œí˜„(ë ˆë“œ/Phase N) ì£¼ì„ ì œê±° (ë³´ê³ ì„œ E-1)
- [ ] ëª©í‘œ 3: ì£¼ì„ ê°€ë…ì„± ê°œì„  â€” ë¹„ìœ¨ í‘œê¸° ì˜¤ë¥˜(A-5), ë³€ìˆ˜ëª… í˜¼ë€(E-2) ìˆ˜ì •
- [ ] ëª©í‘œ 4: ì„¤ì • íŒŒì¼ ì •í•©ì„± í™•ë³´ (ë³´ê³ ì„œ H-1, H-2, B-3)

## 2) ë¹„ëª©í‘œ(Non-Goals)

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë³€ê²½: ëª¨ë“  ìˆ˜ì •ì€ ë¬¸ì„œ/ì£¼ì„/ì„¤ì •/docstringì— í•œì •
- "í•™ìŠµ í¬ì¸íŠ¸:" ì£¼ì„ ì¼ê´„ ì œê±° (E-3): êµìœ¡ì  ê°€ì¹˜ê°€ ìˆìœ¼ë¯€ë¡œ ì´ë²ˆ ë²”ìœ„ ì™¸
- ì½”ë“œ ë™ì‘ ë³€ê²½: ëŸ°íƒ€ì„ ë™ì‘ì€ ì¼ì ˆ ë³€ê²½í•˜ì§€ ì•ŠìŒ

## 3) ë°°ê²½/ë§¥ë½(Context)

### í˜„ì¬ ë¬¸ì œì  / ë™ê¸°

- ë¦¬íŒ©í† ë§ ê³¼ì •ì—ì„œ íŒŒì¼ëª… ë³€ê²½(`buffer_zone.py` â†’ `buffer_zone_helpers.py`)ì´ ë¬¸ì„œì— ë°˜ì˜ë˜ì§€ ì•ŠìŒ
- ë©”íƒ€ íƒ€ì… `tqqq_validation`ì´ ì‚­ì œë˜ì—ˆì§€ë§Œ docstring/ë¬¸ì„œì— ì”ì¡´
- í…ŒìŠ¤íŠ¸ ì£¼ì„ì— ê¸ˆì§€ëœ ê°œë°œ ë‹¨ê³„ í‘œí˜„(ë ˆë“œ, Phase N)ì´ ë‚¨ì•„ ìˆìŒ
- `pyproject.toml`ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” DuckDB ì°¸ì¡°ê°€ ë‚¨ì•„ ìˆìŒ
- `pytest.ini`ì˜ coverage ì„¤ì •ì´ ë¬´íš¨í•  ìˆ˜ ìˆìŒ

### ì˜í–¥ë°›ëŠ” ê·œì¹™(ë°˜ë“œì‹œ ì½ê³  ì „ì²´ ìˆ™ì§€)

> ì•„ë˜ ë¬¸ì„œì— ê¸°ì¬ëœ ê·œì¹™ì„ **ëª¨ë‘ ìˆ™ì§€**í•˜ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.

- `CLAUDE.md`(ë£¨íŠ¸): ì£¼ì„ ì‘ì„± ì›ì¹™, ë¹„ìœ¨ í‘œê¸° ê·œì¹™, ìƒìˆ˜ ëª…ëª… ê·œì¹™
- `tests/CLAUDE.md`: í…ŒìŠ¤íŠ¸ ë¬¸ì„œí™” ê·œì¹™
- `src/qbt/backtest/CLAUDE.md`: ë°±í…ŒìŠ¤íŠ¸ ë„ë©”ì¸ ê·œì¹™
- `scripts/CLAUDE.md`: ë©”íƒ€ë°ì´í„° íƒ€ì… ëª©ë¡

## 4) ì™„ë£Œ ì¡°ê±´(Definition of Done)

> Doneì€ "ì„œìˆ "ì´ ì•„ë‹ˆë¼ "ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ"ë¡œë§Œ íŒë‹¨í•©ë‹ˆë‹¤. (ì •ì˜/ì˜ˆì™¸ëŠ” docs/CLAUDE.md)

- [ ] ë¬¸ì„œ-ì½”ë“œ ë¶ˆì¼ì¹˜ 5ê±´(B-1~B-5) ëª¨ë‘ í•´ì†Œ
- [ ] ê¸ˆì§€ëœ ê°œë°œ ë‹¨ê³„ í‘œí˜„ ì£¼ì„ ì œê±° (E-1: 6ê°œ ìœ„ì¹˜)
- [ ] ë¹„ìœ¨ í‘œê¸° ì˜¤ë¥˜(A-5) ë° ë³€ìˆ˜ëª… í˜¼ë€(E-2) ìˆ˜ì •
- [ ] ì„¤ì • íŒŒì¼ ì •í•©ì„± 3ê±´(H-1, H-2, B-3) í•´ì†Œ
- [ ] `poetry run python validate_project.py` í†µê³¼ (failed=0, skipped=0)
- [ ] `poetry run black .` ì‹¤í–‰ ì™„ë£Œ
- [ ] plan ì²´í¬ë°•ìŠ¤ ìµœì‹ í™”

## 5) ë³€ê²½ ë²”ìœ„(Scope)

### ë³€ê²½ ëŒ€ìƒ íŒŒì¼(ì˜ˆìƒ)

**ë¬¸ì„œ/ì£¼ì„ ìˆ˜ì •**:
- `src/qbt/backtest/types.py` â€” docstring `buffer_zone.py` â†’ `buffer_zone_helpers.py`
- `src/qbt/utils/meta_manager.py` â€” docstring `tqqq_validation` ì˜ˆì‹œ ì—…ë°ì´íŠ¸
- `src/qbt/backtest/strategies/buffer_zone_helpers.py` â€” ë¹„ìœ¨ í‘œê¸° ì£¼ì„ ìˆ˜ì • (A-5)
- `tests/CLAUDE.md` â€” `buffer_zone.py` ì°¸ì¡° ìˆ˜ì •
- `scripts/CLAUDE.md` â€” ë©”íƒ€ë°ì´í„° íƒ€ì… ëª©ë¡ ì—…ë°ì´íŠ¸
- `src/qbt/tqqq/CLAUDE.md` â€” `extract_overlap_period` ìœ„ì¹˜ ì„¤ëª… ê°œì„ 
- `tests/test_strategy.py` â€” íŒŒì¼ docstring ì •ì±… ë¶ˆì¼ì¹˜(B-4), ê¸ˆì§€ í‘œí˜„ ì œê±°(E-1)
- `tests/test_meta_manager.py` â€” ê¸ˆì§€ í‘œí˜„ ì œê±°(E-1)
- `tests/test_tqqq_simulation.py` â€” ê¸ˆì§€ í‘œí˜„ ì œê±°(E-1)
- `scripts/tqqq/spread_lab/app_rate_spread_lab.py` â€” ë³€ìˆ˜ í‘œì‹œ í˜¼ë€ ìˆ˜ì •(E-2)

**ì„¤ì • íŒŒì¼ ìˆ˜ì •**:
- `pyproject.toml` â€” descriptionì—ì„œ DuckDB ì°¸ì¡° ì œê±°(B-3)
- `pytest.ini` â€” minversion ì—…ë°ì´íŠ¸(H-2), coverage ì„¤ì • ì´ë™ ê²€í† (H-1)
- `pyproject.toml` ë˜ëŠ” `.coveragerc` â€” coverage ì„¤ì • ì´ë™(H-1)

### ë°ì´í„°/ê²°ê³¼ ì˜í–¥

- ì—†ìŒ. ë¬¸ì„œ/ì£¼ì„/ì„¤ì •ë§Œ ë³€ê²½í•˜ë¯€ë¡œ ì¶œë ¥ ìŠ¤í‚¤ë§ˆ, CSV, JSONì— ì˜í–¥ ì—†ìŒ

## 6) ë‹¨ê³„ë³„ ê³„íš(Phases)

### Phase 1 â€” ë¬¸ì„œ-ì½”ë“œ ë¶ˆì¼ì¹˜ ìˆ˜ì • (ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [ ] B-1: `src/qbt/backtest/types.py:10` â€” `buffer_zone.py` â†’ `buffer_zone_helpers.py`
- [ ] B-1: `tests/CLAUDE.md:104` â€” `strategies/buffer_zone.py` â†’ `strategies/buffer_zone_helpers.py`
- [ ] B-2: `src/qbt/utils/meta_manager.py:126` â€” docstring ì˜ˆì‹œë¥¼ ì‹¤ì œ `VALID_CSV_TYPES`ì— ë§ê²Œ ì—…ë°ì´íŠ¸
- [ ] B-2: `scripts/CLAUDE.md:56` â€” ë©”íƒ€ë°ì´í„° íƒ€ì… ëª©ë¡ì„ ì‹¤ì œ ì½”ë“œì— ë§ê²Œ ì „ë©´ ì—…ë°ì´íŠ¸
- [ ] B-3: `pyproject.toml:5` â€” descriptionì—ì„œ `with DuckDB and` ë¶€ë¶„ ì œê±°
- [ ] B-4: `tests/test_strategy.py` â€” íŒŒì¼ docstring 4ë²ˆ í•­ëª©ì„ í˜„ì¬ ì •ì±…("ê°•ì œì²­ì‚° ì—†ìŒ")ì— ë§ê²Œ ìˆ˜ì •
- [ ] B-5: `src/qbt/tqqq/CLAUDE.md:67` â€” `extract_overlap_period`ë¥¼ `simulation.py` í•¨ìˆ˜ ëª©ë¡ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ë³„ë„ ì„¤ëª…

---

### Phase 2 â€” ì£¼ì„ ì •ë¹„ (ê·¸ë¦° ìœ ì§€)

**ì‘ì—… ë‚´ìš©**:

- [ ] A-5: `src/qbt/backtest/strategies/buffer_zone_helpers.py:195` â€” ë¹„ìœ¨ í‘œê¸° `(ì˜ˆ: 5.0 = 5%)` â†’ `(ì˜ˆ: 0.05 = 5%)` ìˆ˜ì •
- [ ] E-1: `tests/test_strategy.py:1141` â€” `(ë ˆë“œ)` í‘œí˜„ ì œê±°, í˜„ì¬ ë™ì‘ ê¸°ì¤€ìœ¼ë¡œ ì£¼ì„ ì¬ì‘ì„±
- [ ] E-1: `tests/test_strategy.py:1185` â€” `(ë ˆë“œ)` í‘œí˜„ ì œê±°
- [ ] E-1: `tests/test_meta_manager.py:209` â€” `Phase 6ì—ì„œ ì¶”ê°€ëœ` â†’ í˜„ì¬ ë™ì‘ ê¸°ì¤€ ì„¤ëª…ìœ¼ë¡œ êµì²´
- [ ] E-1: `tests/test_meta_manager.py:299` â€” `Phase 6` í‘œí˜„ ì œê±°
- [ ] E-1: `tests/test_tqqq_simulation.py:984` â€” `(ì•„ì§ êµ¬í˜„ ì•ˆ ë¨ - ë ˆë“œ)` â†’ í˜„ì¬ ë™ì‘ ì„¤ëª…ìœ¼ë¡œ êµì²´
- [ ] E-1: `tests/test_tqqq_simulation.py:1113` â€” `(ì•„ì§ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ ì•ˆ ë¨ - ë ˆë“œ)` â†’ í˜„ì¬ ë™ì‘ ì„¤ëª…ìœ¼ë¡œ êµì²´
- [ ] E-2: `scripts/tqqq/spread_lab/app_rate_spread_lab.py:842` â€” `a={fixed_b_value:.4f}` í‘œì‹œ í˜¼ë€ ìˆ˜ì •
- [ ] E-1: `tests/test_strategy.py:466` â€” `ë²„ê·¸ ì¬í˜„: í˜„ì¬ êµ¬í˜„ì€ ì‹ í˜¸ì¼ì— ì¦‰ì‹œ í¬ì§€ì…˜ ë°˜ì˜ (ì˜ëª»ë¨)` â†’ í˜„ì¬ ì •ìƒ ë™ì‘ ê¸°ì¤€ìœ¼ë¡œ docstring ìˆ˜ì •

---

### Phase 3 (ë§ˆì§€ë§‰) â€” ì„¤ì • íŒŒì¼ ì •ë¹„ ë° ìµœì¢… ê²€ì¦

**ì‘ì—… ë‚´ìš©**:

- [ ] H-2: `pytest.ini:18` â€” `minversion = 7.0` â†’ `minversion = 9.0`
- [ ] H-1: `pytest.ini`ì—ì„œ `[coverage:run]`/`[coverage:report]` ì„¹ì…˜ì„ `pyproject.toml`ì˜ `[tool.coverage.run]`/`[tool.coverage.report]`ë¡œ ì´ë™
- [ ] í•„ìš”í•œ ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] `poetry run black .` ì‹¤í–‰
- [ ] DoD ì²´í¬ë¦¬ìŠ¤íŠ¸ ìµœì¢… ì—…ë°ì´íŠ¸

**Validation**:

- [ ] `poetry run python validate_project.py` (passed=__, failed=__, skipped=__)

#### Commit Messages (Final candidates) â€” 5ê°œ ì¤‘ 1ê°œ ì„ íƒ

1. í”„ë¡œì íŠ¸ / ë¬¸ì„œ-ì½”ë“œ ë¶ˆì¼ì¹˜ í•´ì†Œ ë° ì£¼ì„ ì •ë¹„ (ë™ì‘ ë³€ê²½ ì—†ìŒ)
2. í”„ë¡œì íŠ¸ / ë¬¸ì„œ/ì£¼ì„/ì„¤ì • ì •í•©ì„± ì „ë©´ ì ê²€ ë° ìˆ˜ì •
3. í”„ë¡œì íŠ¸ / ì˜¤ë˜ëœ ë¬¸ì„œ ì°¸ì¡° ì—…ë°ì´íŠ¸ + ê¸ˆì§€ í‘œí˜„ ì œê±°
4. í”„ë¡œì íŠ¸ / CLAUDE.md ê·œì¹™ ì¤€ìˆ˜ë¥¼ ìœ„í•œ ë¬¸ì„œ/ì£¼ì„/ì„¤ì • ì¼ê´„ ì •ë¹„
5. í”„ë¡œì íŠ¸ / docstring, ì£¼ì„, ì„¤ì • íŒŒì¼ ì •í•©ì„± ë³´ì •

## 7) ë¦¬ìŠ¤í¬(Risks)

- ë¦¬ìŠ¤í¬ ë§¤ìš° ë‚®ìŒ: ë¬¸ì„œ/ì£¼ì„/ì„¤ì •ë§Œ ë³€ê²½í•˜ë¯€ë¡œ ëŸ°íƒ€ì„ ë™ì‘ì— ì˜í–¥ ì—†ìŒ
- coverage ì„¤ì • ì´ë™(H-1) ì‹œ ê¸°ì¡´ ì»¤ë²„ë¦¬ì§€ ì¸¡ì • ë™ì‘ì´ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë‚˜, ì´ë¯¸ ë¬´íš¨í•œ ì„¤ì •ì´ë¯€ë¡œ ì‹¤ì§ˆì  ì˜í–¥ ì—†ìŒ

## 8) ë©”ëª¨(Notes)

- ì´ ê³„íšì„œëŠ” `PROJECT_ANALYSIS_REPORT.md`ì˜ B, E, H, A-5 í•­ëª©ì„ ëŒ€ìƒìœ¼ë¡œ í•¨
- ëª¨ë“  ë³€ê²½ì€ ë¬¸ì„œ/ì£¼ì„/ì„¤ì •ì— í•œì •ë˜ì–´ ì½”ë“œ ë™ì‘ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ

### ì§„í–‰ ë¡œê·¸ (KST)

- 2026-02-20 20:00: ê³„íšì„œ ì´ˆì•ˆ ì‘ì„±

---
